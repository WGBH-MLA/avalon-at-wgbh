{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar types = _interopRequireWildcard(require(\"../actions/types\"));\n\nvar _StructuralMetadataUtils = _interopRequireDefault(require(\"../services/StructuralMetadataUtils\"));\n\nvar _lodash = require(\"lodash\");\n\nvar structuralMetadataUtils = new _StructuralMetadataUtils[\"default\"]();\nvar initialState = [];\nvar stateClone = null;\nvar newState = null;\n\nvar smData = function smData() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case types.BUILD_SM_UI:\n      newState = structuralMetadataUtils.buildSMUI(action.json, action.duration);\n      return newState;\n\n    case types.DELETE_ITEM:\n      return structuralMetadataUtils.deleteListItem(action.id, state);\n\n    case types.ADD_DROP_TARGETS:\n      newState = structuralMetadataUtils.determineDropTargets(action.payload, state);\n      return newState;\n\n    case types.REMOVE_DROP_TARGETS:\n      var noDropTargetsState = structuralMetadataUtils.removeDropTargets(state);\n      return noDropTargetsState;\n\n    case types.SET_ACTIVE_DRAG_SOURCE:\n      stateClone = (0, _lodash.cloneDeep)(state);\n      var target = structuralMetadataUtils.findItem(action.id, stateClone); // Put an active flag on list item\n\n      target.active = true;\n      return stateClone;\n\n    case types.REMOVE_ACTIVE_DRAG_SOURCES:\n      var noActiveDragSourcesState = structuralMetadataUtils.removeActiveDragSources(state);\n      return noActiveDragSourcesState;\n\n    case types.HANDLE_LIST_ITEM_DROP:\n      newState = structuralMetadataUtils.handleListItemDrop(action.dragSource, action.dropTarget, state);\n      return newState;\n\n    default:\n      return state;\n  }\n};\n\nvar _default = smData;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"module"}