I"d(function() {
  $(function() {
    return form_attribute_fix();
  });

  this.form_attribute_fix = function(selector) {
    if (selector == null) {
      selector = '*[type="submit"][form]';
    }
    if (!Modernizr.formattribute) {
      return $(selector).click(function(event) {
        var form, newform, submit_element;
        event.preventDefault();
        form = document.getElementById($(this).attr('form'));
        newform = form.cloneNode();
        newform.id = newform.id + "_temp";
        $(document.body).append(newform);
        $('*[form="' + form.id + '"]').each(function(index, element) {
          return $(newform).append($(element).clone().attr('style', 'display:none'));
        });
        $(form).find('input[type!="submit"]').each(function(index, element) {
          return $(newform).append($(element).clone().attr('style', 'display:none'));
        });
        $(newform).find('textarea').each(function(index, element) {
          return $(elem).val($('#' + element.id).val());
        });
        $(newform).find('select').each(function(index, element) {
          return $(elem).val($('#' + element.id).val());
        });
        submit_element = $(this).clone().attr('style', 'display:none');
        $(newform).append(submit_element);
        $(submit_element).click();
        return $(newform).remove();
      });
    }
  };

}).call(this);
:ET