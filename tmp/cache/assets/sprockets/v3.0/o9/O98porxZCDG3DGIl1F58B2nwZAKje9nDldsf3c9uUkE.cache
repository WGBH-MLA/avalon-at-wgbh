I"Ÿ
(function() {
  var disable_submit, submit_edit;

  submit_edit = null;

  this.add_copy_playlist_button_event = function() {
    return $('.copy-playlist-button').on('click', function() {
      var modal, playlist;
      playlist = $(this).data('playlist');
      modal = $('#copy-playlist-modal');
      modal.find('#playlist_title').val(playlist.title);
      modal.find('#playlist_comment').val(playlist.comment);
      if (playlist.visibility === 'public') {
        modal.find('#playlist_visibility_public').prop('checked', true);
      } else if (playlist.visibility === 'private') {
        modal.find('#playlist_visibility_private').prop('checked', true);
      } else {
        modal.find('#playlist_visibility_private-with-token').prop('checked', true);
      }
      modal.find('#old_playlist_id').val(playlist.id);
      modal.find('#token').val(playlist.access_token);
      modal.find('#copy-playlist-submit').prop("disabled", false);
      modal.find('#copy-playlist-submit-edit').prop("disabled", false);
      modal.find('#playlist_title').parent().removeClass('has-error');
      modal.find('#title_error').hide();
      return modal.modal('show');
    });
  };

  $('#copy-playlist-submit-edit').on('click', function() {
    return submit_edit = true;
  });

  $('#copy-playlist-form').submit(function() {
    var modal;
    modal = $('#copy-playlist-modal');
    if (modal.find('#playlist_title').val()) {
      disable_submit();
      return true;
    } else {
      modal.find('#title_error').show();
      modal.find('#playlist_title').parent().addClass('has-error');
    }
    return false;
  });

  disable_submit = function() {
    var modal;
    modal = $('#copy-playlist-modal');
    modal.find('#copy-playlist-submit').prop("disabled", true);
    return modal.find('#copy-playlist-submit-edit').prop("disabled", true);
  };

  $('#copy-playlist-form').bind('ajax:success', function(event, data, status, xhr) {
    if (data.errors) {
      return console.log(data.errors.title[0]);
    } else {
      if (submit_edit) {
        return window.location.href = data.path;
      } else {
        if ($('#with_refresh').val()) {
          return location.reload();
        }
      }
    }
  }).bind('ajax:error', function(e, xhr, status, error) {
    return console.log(xhr.responseJSON.errors);
  });

  $('input[name="playlist[visibility]"]').on('click', function() {
    var new_text, new_val;
    new_val = $(this).val();
    new_text = $('.human_friendly_visibility_' + new_val).attr('title');
    return $('.visibility-help-text').text(new_text);
  });

  $('.mejs-form-alert').on('close.bs.alert', function(e) {
    e.preventDefault();
    return $(this).slideUp();
  });

}).call(this);
:ET